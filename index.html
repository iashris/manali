<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="iashris">
	<title>Manali Trance</title>
</head>
<link href="https://fonts.googleapis.com/css?family=Rozha+One" rel="stylesheet">
<style type="text/css">
	html,body{
		overflow: hidden;
	}
	*{
		padding:0;
		margin: 0;
	}
	#content{
		position: fixed;
		top:0;
		left:0;
		z-index: -2;
	}
	#cover{
		z-index: 100;
		position: fixed;
		top:0;
		width: 100vw;
		height: 100%;
		visibility: visible;
		opacity: 1;
		left:0;
		background: #161616;
		transition: visibility 1s,opacity 0.5s linear;
	}
	.innercontents{
		position: relative;
		display: block;
		vertical-align: middle;
		margin: auto;
		color:white;
		font-family: 'Rozha One',Helvetica;
		text-align: center;
		top:45%;
		
	}
	#instructions{
		z-index: 10;
		color:white;
		position: fixed;
		bottom:20px;
		text-align: center;
		font-family: Lato;
		display: block;
		width: 100%;
		transition: visibility 1s,opacity 0.5s linear;

	}
</style>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.6/p5.min.js"></script>
<body>

	<div id="content"></div>
	<div id="instructions">Some shit.</div>
	<div id="cover">


		<div class="innercontents">
			<h1>Manali Trance</h1>
		</div>


	</div>
</body>
<script type="text/javascript">
	setTimeout(hiide,3000);
	var backa=255;
	function hiide(){
		document.getElementById('cover').style.opacity="0";
		document.getElementById('cover').style.visibility="hidden";
	}
	function Spiral(){
		this.reset();
	}
	Spiral.prototype.update=function(){
		this.outward+=this.outwardspeed;
		this.sep+=this.normalspeed;
		this.aspect+=this.outward/50000;
		this.color=backa==255?'rgba(200,70,10,0.5)':'rgba(255,255,255,0.5)';
		if(this.sep>width)this.reset();
	}
	Spiral.prototype.reset=function(){
		this.nums=parseInt(random(5,15));
		this.rotrate=parseInt(random(18));
		this.outwardspeed=random(6,12);
		this.w=random(1,15);
		this.outward=random(10,70);
		this.normalspeed=random(0.8,9);
		this.aspect=random(3,10);
		this.sep=random(5,40);
		this.color='rgba(200,70,10,0.5)';
	}
	Spiral.prototype.show=function(){
		push();
		noStroke();
		fill(this.color);
		translate(width/2,height/2);
		rotate(radians(frameCount*this.rotrate/10));
		for(var i=0;i<this.nums;i++){
			rotate(radians(360/this.nums));

			quad(-this.w,-this.sep,-this.w*this.aspect,-this.outward,this.w*this.aspect,-this.outward,this.w,-this.sep);
		}
		pop();
	}




function Spiralnil(){
		this.reset();
	}
	Spiralnil.prototype.update=function(){
		this.outward+=this.outwardspeed;
		this.sep+=this.normalspeed;
		this.aspect+=this.outward/50000;
		this.color=backa==255?'rgba(200,70,10,0.5)':'rgba(255,255,255,0.5)';
		if(this.sep>width)this.reset();
	}
	Spiralnil.prototype.reset=function(){
		this.nums=parseInt(random(5,15));
		this.rotrate=parseInt(random(18));
		this.outwardspeed=random(6,12);
		this.w=random(1,15);
		this.outward=random(10,70);
		this.normalspeed=random(0.8,9);
		this.aspect=random(3,10);
		this.sep=random(5,40);
		this.color='rgba(200,70,10,0.5)';
	}
	Spiralnil.prototype.show=function(){
		push();
		stroke(this.color);
		strokeWeight(2);
		noFill();
		translate(width/2,height/2);
		rotate(radians(frameCount*this.rotrate/10));
		for(var i=0;i<this.nums;i++){
			rotate(radians(360/this.nums));

			quad(-this.w,-this.sep,-this.w*this.aspect,-this.outward,this.w*this.aspect,-this.outward,this.w,-this.sep);
		}
		pop();
	}





	function Arcify(){

		this.reset();


	}
	Arcify.prototype.reset=function(){
		this.radius=random(5,30);
		this.color='rgba(200,70,10,0.5)';
	}
	Arcify.prototype.show=function(){
		push();
		translate(width/2,height/2);
		noFill();
		stroke(this.color);
		strokeWeight(this.thickness);
		ellipse(0,0,this.radius,this.radius);
		pop();
	}
	Arcify.prototype.update=function(){
		this.thickness=this.radius/30;
		if(this.radius>100+width)this.reset();
		this.color=backa==255?'rgba(200,70,10,0.5)':'rgba(255,255,255,0.5)';
		this.radius+=this.radius/30;

	}
	var colors=['42,186,217','0,0,0','206,29,39'];
	function setup(){
		var mycanvas=createCanvas(innerWidth, innerHeight); //P3D equivalent
		mycanvas.parent('content');
		textSize(160);
		textAlign(CENTER);
		textFont("Rozha One");
		foo=[];
		for(var i=0;i<4;i++){
			foo.push(new Spiral());
			foo.push(new Spiral());
			foo.push(new Spiralnil());
			foo.push(new Arcify());
		
	//foo.push(new Arcify());
}
}
function draw(){

	background(backa);
	if(frameCount%300<15){
		var fd=random(10,20);
	}
	else{
		var fd=random(7);
	}

	for(var i=0;i<foo.length;i++){
		foo[i].show();
		foo[i].update();
	}
if(frameCount<600){
 fill('rgba(42,186,217,0.8)');
 text('मनाली ट्रांस', width/2-fd, height/2);
 fill('rgba(206,29,39,0.8)');
 text('मनाली ट्रांस', width/2+fd, height/2);

  fill('rgba(0,0,0,0.8)');
 text('मनाली ट्रांस', width/2, height/2);
}

}


var mousecounter=0;
function mousePressed(){
	mousecounter++;
	if(mousecounter%2){backa=20;}
	else{backa=255;}
}

function windowResized() {
	resizeCanvas(windowWidth, windowHeight);
}

</script>
</html>
